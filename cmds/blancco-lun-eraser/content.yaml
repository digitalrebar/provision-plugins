meta:
  Author: RackN
  CodeSource: https://github.com/rackn/provision-plugins
  Color: orange
  Copyright: RackN
  Description: Plugin for using the external Blancco LUN Eraser commercial disk wiping
    tool.
  DisplayName: Blancco LUN Eraser
  DocUrl: https://provision.readthedocs.io/en/latest/doc/content-packages/blancco-lun-eraser.html
  Documentation: |-
    Blancco LUN Eraser
    ------------------

    This plugin implements the commercially licensed industrial grade Disk
    and LUN wiping tool from Blancco.  The tool requires additional licensing
    direct from Blancco.  The integrated product is Blancco LUN Eraser.

    .. note:: RackN licenses do not entitle use of the Blancco LUN Eraser product.


    Overview of Usage
    =================

    This plugin requires external third party licenses to be purchased from Blancco
    to operate correctly.  Product information and purchasing details can be found
    on Blancco's website at:

      * https://www.blancco.com/products/lun-eraser/

    By default this plugin utilizes the Blancco Cloud services to validate and consume
    licenses, and upload completed Reports to.  The operator must have a valid Blancco
    Cloud account username and password with license entitlements.  The Blancco Management
    Console can be found at:

      * https://cloud.blancco.com/

    It is possible to install a local (eg for "air gap" requirements) Blancco License
    and Console management service internally.  Contact Blancco for further details.


    Basic Usage
    +++++++++++

    By default this content will not wipe any disks without a number of Params being
    set correctly on a target Machine.  An example Profile can be found under Profiles,
    which provides a sample of Params that should be set.  The example profile is named:

      * ``blancco-lun-eraser-EXAMPLE``

    .. note:: The default EXAMPLE does **not** include the Profile based wipe report
              aggregating.  To enable it, set ``ble/wipe-report-profile-tag`` on the Machine(s).

    Specifically, the following required Params must be set with values:

      * ``ble/username`` - The Blancco Cloud or local Console server user account
      * ``ble/password`` - The Blancco Cloud or local Console server user password
      * ``ble/disks`` - an array of disk targets to wipe, each disk consumes 1 (one) Blancco license entitlement
      * ``ble/wipe-disks`` - set to ``true`` to enable disk wiping

    Optional configuration Params can be set; if no value is specified, the default value
    will be used:

      * ``ble/license-server`` - defaults to ``https://cloud.blancco.com:443``
      * ``ble/wipe-level`` - defaults to ``16: NIST 800-88 Clear``
      * ``ble/wipe-report-profile-tag`` - no default - if set, enables aggregate Machine wipe reports written to a single Profile

    The Blancco LUN Eraser tooling supports several standards for different wipe
    level requirements.  See the ``ble/wipe-level`` Param documentation for specific
    standards supported wipe levels and setting values.


    Workflows
    +++++++++

    The Blancco LUN Eraser (BLE) tasks must be run in Sledgehammer.  The following
    Workflow enforces that the machine is in Sledgehammer, then runs the Blancco
    LUN Eraser tooling:

      * ``blancco-lun-eraser``


    Reporting for Disk Wipes
    ++++++++++++++++++++++++

    When utilizing the Blancco Cloud Management Console, completed wipe reports
    may be uploaded to the Console for review and certification proof of disk wipe
    operations.  From time-to-time, the reports may fail to upload.  In the case of
    a report upload failure, Digital Rebar Platform (DRP) will not fail the Task.
    The Job Log for the task will record the failure as a "500" error in the log.

    Additionally, DRP records wipe results in the Blancco native Reporting format (XML)
    as Params on the Machine, and *optionally*, in a Profile with an aggregate report
    grouped together by an operator specified ``tag`` value.  This allows multiple
    Machines to execute wipe operations, and aggregate the wipe reports together
    in a single Profile.

    A completed Wipe Report will be recorded on the Machine object of each Machine
    that completes a successful wipe.  The wipe report will be recorded in the
    Param:

      * ``ble/wipe-report``

    The Optional Profile based aggregate reports must be explicitly enabled, if desired.
    To enable the Profile based reports, you must set the following Param with a
    "*tag*" value to identify this group of wipe operations.  The tag is an arbitrary
    string, but should not contain any special characters.  An example value setting:

      * ``ble/wipe-report-profile-tag``: "20210417-green"

    In the above example a Profile will be created and the "*tag*" appended, creating
    a report Profile named:

      * ``ble-wipe-report-20210417-green``

    This Profile will be added to each machine.  Each machines specific wipe report
    will be written as a separate Param in the Profile, with the Machines *UUID* value
    as the Param name.

    .. note:: Reports are in Blannco's native reporting file format, which is XML.

    To remove the report, you must remove the Profile from the Machine(s), then remove
    the Profile.

    .. warning:: Subsequent re-runs of the ``blancco-lun-eraser`` Workflow, with the
                 **same** Profile *tag* will cause older wipe records for a given Machine
                 (if they exist), to be delete prior to the new Wipe Report being recorded.


    Virtual Machines
    ++++++++++++++++

    If you are using Virtual Machines and wiping disk volumes, note that any of the erase
    levels implemented by Blancco LUN Eraser will cause the disk to inflate to it's
    fully specified size.  This is an important consideration if you are backing your
    disk volumes as Sparse type disks.  You must ensure that your backing storage for
    your Virtual Machine volumes is large enough for the disks to be fully inflated.
  Icon: window close
  License: RackN
  Name: blancco-lun-eraser
  Order: "1000"
  Prerequisites: ""
  RequiredFeatures: ""
  Source: ""
  Tags: experimental
  Type: dynamic
  Version: v4.6.0-beta01.43+gda99a0119956aa4639037c025f829d38d126dc75
sections:
  params:
    ble/config-override:
      Available: false
      Bundle: ""
      Description: A template to override the BLE config.txt with.
      Documentation: |
        Set this parameter to the name of a Template in the system, to
        override the Blancco Disk Eraser (BLE) config file.  The existing
        templatize version will be completely erased by this template.
      Endpoint: ""
      Errors: []
      Meta:
        color: blue
        icon: file alternate
        title: RackN Content
      Name: ble/config-override
      ReadOnly: false
      Schema:
        type: string
      Secure: false
      Validated: false
    ble/disks:
      Available: false
      Bundle: ""
      Description: List of disks to wipe on the target server.
      Documentation: |
        A list of target devices to wipe on the server.  If the device is not
        found, then it will be skipped.

        Disks may be listed either as ``sda`` or ``/dev/sda`` format.

        .. note:: No default value is set.  The operator must explicitly provide
                  a list of devices to wipe as a safety precaution.
      Endpoint: ""
      Errors: []
      Meta:
        color: blue
        icon: address card
        title: RackN Content
      Name: ble/disks
      ReadOnly: false
      Schema:
        items:
          type: string
        type: array
      Secure: false
      Validated: false
    ble/license-server:
      Available: false
      Bundle: ""
      Description: License Server (Management Console) URL location.
      Documentation: |
        The URL location of the Blancco LUN Eraser Management Console which
        manages the License entitlements.  By default the Blancco cloud service
        console will be used:

          * https://cloud.blancco.com:443
      Endpoint: ""
      Errors: []
      Meta:
        color: blue
        icon: crosshairs
        title: RackN Content
      Name: ble/license-server
      ReadOnly: false
      Schema:
        default: https://cloud.blancco.com:443
        type: string
      Secure: false
      Validated: false
    ble/noop-test-mode:
      Available: false
      Bundle: ""
      Description: Sets the BLE tooling to not excute the wipe tools.  For debugging.
      Documentation: |
        This param prevents the Blancco LUN Eraser tooling from actually executing
        the destructive wipe tooling (``BlanccoLUNEraser``).

        This is primarily used as a debugging mode.  Setting this Param will prevent
        the binary from executing.  It also prevents any of the Report scraping and
        Param writing commands from running.
      Endpoint: ""
      Errors: []
      Meta:
        color: blue
        icon: bug
        title: RackN Content
      Name: ble/noop-test-mode
      ReadOnly: false
      Schema:
        default: false
        type: boolean
      Secure: false
      Validated: false
    ble/password:
      Available: false
      Bundle: ""
      Description: Password for Blancco LUN Eraser
      Documentation: |
        Password on the Blancco LUN Eraser account in the Blancco
        portal or your on-premises management portal.
      Endpoint: ""
      Errors: []
      Meta:
        color: blue
        icon: lock
        password: hideme
        title: RackN Content
      Name: ble/password
      ReadOnly: false
      Schema:
        default: ""
        type: string
      Secure: true
      Validated: false
    ble/report-1-name:
      Available: false
      Bundle: ""
      Description: Additional meta data for reporting in the Blancco management portal.
      Documentation: |
        A customized name to associate with this task run in the Blancco
        management portal.
      Endpoint: ""
      Errors: []
      Meta:
        color: green
        icon: tasks
        title: RackN Content
      Name: ble/report-1-name
      ReadOnly: false
      Schema:
        default: ""
        type: string
      Secure: false
      Validated: false
    ble/report-1-tag:
      Available: false
      Bundle: ""
      Description: Additional meta data for reporting in the Blancco management portal.
      Documentation: |
        A customized value associated with the ``ble/report-1-name`` in the Blancco
        management portal.
      Endpoint: ""
      Errors: []
      Meta:
        color: green
        icon: tags
        title: RackN Content
      Name: ble/report-1-tag
      ReadOnly: false
      Schema:
        default: ""
        type: string
      Secure: false
      Validated: false
    ble/username:
      Available: false
      Bundle: ""
      Description: Username for Blancco LUN Eraser
      Documentation: |
        Username on the Blancco LUN Eraser account in the Blancco
        portal or your on-premises management portal.
      Endpoint: ""
      Errors: []
      Meta:
        color: blue
        icon: address card
        title: RackN Content
      Name: ble/username
      ReadOnly: false
      Schema:
        default: ""
        type: string
      Secure: false
      Validated: false
    ble/wipe-disks:
      Available: false
      Bundle: ""
      Description: Safety check to prevent wiping disks by default.
      Documentation: |
        If this param is set to ``false``, then the Blancco LUN Eraser
        process will not be run.  The default value is ``false``.  The operator
        must explicitly set this value to ``true`` to run the BLE disk
        wiping process.
      Endpoint: ""
      Errors: []
      Meta:
        color: red
        icon: asterisk
        title: RackN Content
      Name: ble/wipe-disks
      ReadOnly: false
      Schema:
        default: false
        type: boolean
      Secure: false
      Validated: false
    ble/wipe-level:
      Available: false
      Bundle: ""
      Description: Sets the standards compliance wipe level for the Blancco LUN Eraser
        process.
      Documentation: |
        This param defines what Standards Compliance wipe level to be set
        for the Blancco LUN Eraser (BLE) tool to conform to.

        Supported Values are:
          * ``0: HMG Infosec Standard 5, Lower Standard``
          * ``1: HMG Infosec Standard 5, Higher Standard``
          * ``2: Peter Gutmann's Algorithm``
          * ``3: DoD 5220.22-M``
          * ``4: Bruce Schneier's Algorithm``
          * ``5: Navy Staff Office Publication (NAVSO P-5239-26)``
          * ``6: National Computer Security Center (NCSC-TG-025)``
          * ``7: Air Force System Security Instruction 5020``
          * ``8: U.S. Army AR380-19``
          * ``10: OPNAVINST 5239.1A``
          * ``11: NSA 130-1``
          * ``12: DoD 5220.22-M ECE``
          * ``13: BSI-2011-VS (Similar)``
          * ``14: BSI-GS (Similar)``
          * ``15: BSI-GSE (Similar)``
          * ``16: NIST 800-88 Clear``
          * ``50: Aperiodic random overwrite``

        Defaults to:

          * ``16: NIST 800-88 Clear``
      Endpoint: ""
      Errors: []
      Meta:
        color: blue
        icon: window close
        title: RackN Content
      Name: ble/wipe-level
      ReadOnly: false
      Schema:
        default: '16: NIST 800-88 Clear'
        enum:
        - '0: HMG Infosec Standard 5, Lower Standard'
        - '1: HMG Infosec Standard 5, Higher Standard'
        - '2: Peter Gutmann''s Algorithm'
        - '3: DoD 5220.22-M'
        - '4: Bruce Schneier''s Algorithm'
        - '5: Navy Staff Office Publication (NAVSO P-5239-26)'
        - '6: National Computer Security Center (NCSC-TG-025)'
        - '7: Air Force System Security Instruction 5020'
        - '8: U.S. Army AR380-19'
        - '10: OPNAVINST 5239.1A'
        - '11: NSA 130-1'
        - '12: DoD 5220.22-M ECE'
        - '13: BSI-2011-VS (Similar)'
        - '14: BSI-GS (Similar)'
        - '15: BSI-GSE (Similar)'
        - '16: NIST 800-88 Clear'
        - '50: Aperiodic random overwrite'
        type: string
      Secure: false
      Validated: false
    ble/wipe-report:
      Available: false
      Bundle: ""
      Description: Automatically written with the BLE Wipe Report when completed.
      Documentation: |
        This Param will automatically be written on the Machine Object when
        a successful completed wipe process of the Blancco LUN Eraser (BLE) tool
        has completed.

        On subsequent re-runs of the software, the Param value will be overwritten.
        The reports are also uploaded and managed in the Blancco Management Console,
        which is defined by the Param ``ble/license-server``.

        Currently the report is written as raw XML format, as produced by the BLE
        tooling.
      Endpoint: ""
      Errors: []
      Meta:
        color: green
        icon: save outline
        title: RackN Content
      Name: ble/wipe-report
      ReadOnly: false
      Schema:
        default: ""
        type: string
      Secure: false
      Validated: false
    ble/wipe-report-profile-tag:
      Available: false
      Bundle: ""
      Description: A partial tag used for the Profile name for multi-Machine Wipe
        Reports.
      Documentation: |
        The Blancco LUN Eraser tool generates an individual wipe report for each
        Machine that runs the tooling.  In addition, multiple Machines wiped at
        once can record the Wipe Report to a single Profile.  This allows collection
        of a large fleet of wipe reports via a single query.

        Note that it is the Operator's responsibility to coordinate which Machines
        simultaneously run a Wipe operation, and subsequently query the Profile after
        all machines have completed.

        Future features may include a Context coordinator that can handle this process.

        This Params specifies only a portion (eg the ``tag``) for the Profile name
        that will be used.  If this Param is set to ``purple``, then the Profile
        name that will be generated and used to record the Wipe Reports will be:

          * ``ble/wipe-report-purple``

        If this Param has no value set, then no aggregate Profile wipe report
        will be generated.

        .. note:: The value of this Param must be the same on all Machines for
                  which you want to aggregate Wipe Reports to.
      Endpoint: ""
      Errors: []
      Meta:
        color: blue
        icon: address card
        title: RackN Content
      Name: ble/wipe-report-profile-tag
      ReadOnly: false
      Schema:
        type: string
      Secure: false
      Validated: false
  profiles:
    blancco-lun-eraser-EXAMPLE:
      Available: false
      Bundle: ""
      Description: An EXAMPLE profile for use of Blancco LUN Eraser wipe tool.
      Documentation: |
        This is an EXAMPLE profile that can be used as a starting point for use
        of the Blancco LUN Eraser (BLE) integration.

        To use it, clone it and change values accordingly.  Each Param contains
        appropriate documentation for use.

        .. warning:: The ``ble/wipe-disks`` Param is a safety check, it must be set
                     to ``true`` to execute the disk wiping procedures.  By setting
                     this value, the system will irrevocably NUKE all data on the
                     disks.  That's what this tool does.

        The optional Param ``ble/wipe-report-profile-tag`` is *not* set in this
        example profile.  If you are wiping multiple Machines and would like an
        aggregated report collected in a single Profile, then review the documentation
        for the Param.
      Endpoint: ""
      Errors: []
      Meta:
        color: red
        icon: asterisk
        title: RackN
      Name: blancco-lun-eraser-EXAMPLE
      Params:
        ble/disks:
        - sda
        - sdb
        - sdc
        ble/license-server: https://cloud.blancco.com:443
        ble/password: p@ssw0rd
        ble/username: user@example.com
        ble/wipe-disks: true
        ble/wipe-level: '16: NIST 800-88 Clear'
      Partial: false
      Profiles: []
      ReadOnly: false
      Validated: false
  stages:
    blancco-lun-eraser:
      Available: false
      BootEnv: sledgehammer
      Bundle: ""
      Description: Use Blancco LUN Eraser to perform industrial grade standards compliant
        disk wiping.
      Documentation: |
        This workflow implements the externally licensed Blancco disk and LUN
        eraser tool.  It requires separate licensing from RackN.
      Endpoint: ""
      Errors: []
      Meta:
        color: orange
        feature-flags: sane-exit-codes
        icon: eraser
        title: RackN
      Name: blancco-lun-eraser
      OptionalParams:
      - ble/license-server
      - ble/wipe-level
      - ble/wipe-report-profile-tag
      Params: {}
      Partial: false
      Profiles: []
      ReadOnly: false
      Reboot: false
      RequiredParams:
      - ble/username
      - ble/password
      - ble/disks
      - ble/wipe-disks
      RunnerWait: true
      Tasks:
      - blancco-lun-eraser
      Templates: []
      Validated: false
  tasks:
    blancco-lun-eraser:
      Available: false
      Bundle: ""
      Description: Run the Blancco LUN Eraser (BLE) indsutrial disk wiping tool.
      Documentation: |
        Runs the Blancco LUN Eraser (BLE) industrial disk wiping tool.
      Endpoint: ""
      Errors: []
      ExtraClaims:
      - action: '*'
        scope: profiles
        specific: '*'
      Meta:
        color: red
        icon: window close outline
        title: RackN Content
      Name: blancco-lun-eraser
      OptionalParams: []
      Prerequisites: []
      ReadOnly: false
      RequiredParams: []
      Templates:
      - Contents: |
          #!/usr/bin/env bash
          # Render the config.txt for Blancco LUN Eraser

          set -e

          CFG="config.txt"

          echo "Building 'config.txt' file..."

          rm -f config.txt

          {{ if .ParamExists "ble/config-override" -}}
          # render override template - ble/config-override set

          cat << 'EOT' > config.txt
          {{ template "ble/config-override" . }}
          EOT

          {{ else -}}
          # render paramaterized template
          #
          cat << 'EOT' > config.txt
          {{ template "blancco-lun-eraser-config.txt.tmpl" . }}
          EOT

          {{ end -}}
        ID: ""
        Link: ""
        Meta: null
        Name: ble-config.txt
        Path: ""
      - Contents: |
          #!/usr/bin/env bash
          # Get the BLE tooling, and then Run the BlanccoLUNEraser tool

          {{ template "setup.tmpl" . }}

          echo ""
          echo "+++ Start at $(date)"
          echo ""

          {{ if .ParamExists "ble/disks" -}}
          TARGETS='{{ .Param "ble/disks" | join " " }}'
          {{ else -}}
          echo "+++ WARNING:  No target devices specified in 'ble/disks' Param"
          echo "              Exiting without performing any operations."
          exit 0
          {{ end -}}

          {{ if eq ( .Param "ble/wipe-disks" ) false -}}
          echo "+++ NOTICE:  'ble/wipe-disks' set to false, exiting without performing any tasks"
          exit 0
          {{ end -}}

          {{ if .ParamExists "ble/wipe-report-profile-tag" -}}
          TAG='{{ .Param "ble/wipe-report-profile-tag" }}'
          PROFILE="ble-wipe-report-$TAG"
          echo "+++ Will write aggregate Wipe Report to Profile:  '$PROFILE'"
          {{ else -}}
          echo "+++ NOTICE:  No Profile aggregate Wipe Report will be generated."
          {{ end -}}

          profile_create() {
            local _profile _date _meta
            _date="$(date)"
            _meta='"meta": { "name": "Blancco LUN Eraser Report for tag '$TAG'", "date": "'$_date'" }'
            _profile='{ "Name": "'$PROFILE'", "Description": "Blancco LUN Eraser Wipe Report - '$TAG'", "Meta": { "color": "purple", "icon": "asterisk", "title": "BLE Wipe Report" }, "Params": { '$_meta' }, "Profiles": [] }'

            echo "%%% Creating Profile '$PROFILE'..."
            echo "$_profile" | drpcli profiles create -
          }

          profile_write() {
            echo "%%% Writing report to Profile '$PROFILE'..."
            drpcli profiles exists "$PROFILE" > /dev/null 2>&1 || profile_create
            echo "%%% Adding '$PROFILE' to Machine with UUID '$RS_UUID'..."
            drpcli machines addprofile $RS_UUID $PROFILE > /dev/null 2>&1
            echo "%%% Writing report Param in Profile..."
            drpcli profiles remove "$PROFILE" param "$RS_UUID" > /dev/null 2>&1
            drpcli profiles set "$PROFILE" param "$RS_UUID" to <<< cat "$REPORT" > /dev/null
          }

          # future feature: alternate download Param/URLs for updating pieces or debugging
          DAT="{{ .ProvisionerURL }}/files/plugin_providers/blancco-lun-eraser/license.dat"
          EXE="{{ .ProvisionerURL }}/files/plugin_providers/blancco-lun-eraser/BlanccoLUNEraser"
          WIPE_LEVEL="{{ .Param "ble/wipe-level" }}"
          ALGO="$(echo "$WIPE_LEVEL" | cut -d":" -f1)"
          LSBLK_DEVICES="$(lsblk -d -J -n -a -o NAME)"
          FOUND_DEVS="$(echo "$LSBLK_DEVICES" | jq -r '.blockdevices[] | .name' | tr '\n' ' ')"
          NOOP="{{ .Param "ble/noop-test-mode" }}"

          echo ">>> Downloading 'license.dat' from '$DAT'..."
          wget --quiet $DAT

          echo ">>> Downloading 'BlanccoLUNEraser' from '$EXE'..."
          wget --quiet $EXE
          chmod +x BlanccoLUNEraser

          [[ ! -r "config.txt" ]] && xiterr 1 "Unable to read required 'config.txt'" || true
          [[ ! -r "license.dat" ]] && xiterr 1 "Unable to read required 'license.dat'" || true
          [[ ! -x "BlanccoLUNEraser" ]] && xiterr 1 "Unable to read/execute 'BlanccoLUNEraser'" || true

          echo ""
          echo ">>> Starting Blancco LUN Eraser drive wipe process..."
          echo ""
          echo "       username: {{ .Param "ble/username" }}"
          echo '       password: {{ if .Param "rs-debug-enable" }}{{ .Param "ble/password" }}{{ else }}*** obfuscated ***{{ end }}'
          echo " license server: {{ .Param "ble/license-server" }}"
          echo "     wipe level: $WIPE_LEVEL"
          echo "targets to wipe: $TARGETS"
          echo "  found devices: $FOUND_DEVS"
          echo ""

          for TARGET in $TARGETS
          do
            D="$(echo "$TARGET" | awk -F '/' ' { print $NF } ')"
            DEV="/dev/$D"
            FOUND=$(echo $LSBLK_DEVICES | jq ".blockdevices[] | contains(select(.name == \"$D\"))")

            if [[ $FOUND == "true" ]]
            then
              echo ">>> Target device '$DEV' found on device, adding to wipe targets."
              TARGET_DEVS+="target=$DEV "
            else
              echo "--- NOTICE: Target device '$DEV' NOT found on host, ignoring as a non-fatal error"
            fi
          done

          WIPE_CMD="./BlanccoLUNEraser -y -simpleui algo=$ALGO $TARGET_DEVS"

          echo ""
          echo ">>> Starting wipe with command:"
          echo "$WIPE_CMD"
          echo ""

          if [[ "$NOOP" == "false" ]]
          then
            # wipe any potential preexisting reports from previous runs
            rm -f *.xml

            eval $WIPE_CMD

            echo ""

            REPORTS=$(ls -1 *.xml)

            for REPORT in $REPORTS
            do
              # we have 'xmllint' in sledgehammer, but I couldn't make it dance the jig...
              WIPE_SIGNATURE=$(grep "<integrity>" $REPORT | cut -d '>' -f2 | cut -d '<' -f1)

              echo "%%% Writing Machine specific report Param ('ble/wip-report')..."
              drpcli machines set $RS_UUID param ble/wipe-report to <<< cat $REPORT > /dev/null
              [[ -n "$PROFILE" ]] && profile_write || true

              echo "================================================================================"
              echo ">>> Collected Report file '$REPORT'"
              echo ">>> Report recorded to DRP Machine Param 'ble/wipe-report'"
              echo ">>> Wipe Signature:"
              echo "$WIPE_SIGNATURE"
              echo "--------------------------------------------------------------------------------"
              cat $REPORT
              echo "================================================================================"
              echo ""
            done

          else
            echo ">>> no-op test mode - not running command"
            echo "    no Report processing performed either"

            echo ""
            echo ">>> Config file contents:"
            cat config.txt
            echo ""
          fi

          echo "+++ Done at $(date)"
          echo ""
        ID: ""
        Link: ""
        Meta: null
        Name: BlanccoLUNEraser.sh
        Path: ""
      Validated: false
  templates:
    blancco-lun-eraser-config.txt.tmpl:
      Available: false
      Bundle: ""
      Contents: |
        # Comment

        # The path to the license file.
        LicenseFile = "license.dat"

        # The path to the report folder
        #ReportPath = "/var/log"
        BufferSize = "-1"
        #MaxMBPerSecond = "5"
        #OutputFilePath = "/log.txt"

        # Address to the Blancco Management Console
        MCServerAddress = "https://cloud.blancco.com:443"
        # The user that should be used to import the reports
        MCUserName = "{{ .Param "ble/username" }}"
        # Password for the user
        MCPassword = "{{ .Param "ble/password" }}"
        #OutgoingPort = ""

        [custom1]
        name = "{{ .Param "ble/report-1-name" }}"
        # mandatory = 1   # requires in put at STDIN if set to 1
        mandatory = 0
        default = "{{ .Param "ble/report-1-tag" }}"
        disabled = 1
        # disabled = 1  # disables the "custom1" field from use"

        #[custom2]
        #name = "Custom 2"
        #mandatory = 0
        #default = "Default Value"
        #disabled = 0
      Description: ""
      Endpoint: ""
      Errors: []
      ID: blancco-lun-eraser-config.txt.tmpl
      Meta: {}
      ReadOnly: false
      Validated: false
  workflows:
    blancco-lun-eraser:
      Available: false
      Bundle: ""
      Description: Use Blancco LUN Eraser to perform industrial grade standards compliant
        disk wiping.
      Documentation: |
        This workflow implements the externally licensed Blancco disk and LUN
        eraser tool.  It requires separate licensing from RackN.
      Endpoint: ""
      Errors: []
      Meta:
        color: orange
        icon: eraser
      Name: blancco-lun-eraser
      ReadOnly: false
      Stages:
      - enforce-sledgehammer
      - blancco-lun-eraser
      Validated: false
